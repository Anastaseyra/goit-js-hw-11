{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.png","../src/main.js"],"sourcesContent":["export const searchImage = search => {\n  const searchParams = new URLSearchParams({\n    key: '47683797-671cdc264b1a4ae65b7ce6d71',\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  const options = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Host: 'http://localhost:5173',\n      Origin: 'https://pixabay.com/api',\n    },\n  };\n\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};","export const renderImages = images => {\n  return images.map(image =>\n    `<li class='gallery-item'>\n      <a href=${image.largeImageURL}>\n        <img alt=${image.tags} src=${image.webformatURL} class='gallery-image'/>\n      </a>\n      <ul class='list'>\n        <li class='item-info'>\n          <p class='list-title'>Likes</p>\n          <p class='list-count'>${image.likes}</p>\n        </li>\n        <li class='list-item'>\n          <p class='list-title'>Views</p>\n          <p class='list-count'>${image.views}</p>\n        </li>\n        <li class='list-item'>\n          <p class='list-title'>Comments</p>\n          <p class='list-count'>${image.comments}</p>\n        </li>\n        <li class='list-item'>\n          <p class='list-title'>Downloads</p>\n          <p class='list-count'>${image.downloads}</p>\n        </li>\n      </ul>\n    </li>\n  `).join('');\n};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgB1ZrRTcMwEIbPiKivXYlJOgJsQNmAjRiBUehjm0Q1OcFBXNLUd/4vMZ9UqYqay//VaXxOE8hA27aPRGE/vN0SiBhpv9k0L6TkjpScTt3zEP6VgOGZEGj/VVu5n+bDfAA+EDliHYmbcPi27eLo9R5jLB4FrsG1xrUtIzGLV3jBVcI7vOAisVR4ASqxdHgBIrFWeKFIYu3wgkmilvCCSqK28EKWRK3hhVkJa/i+73dDU7ejQnLrTEkcj0NTaQ9fPtmkX55J4iPpRpvm/iGEcCAF1i7S0hhyNs442rRNRoAUdF166mkkLk9brkUKksxWAatEaXiogFYCER4ukCuBCu8icEsCGd5N4JoEOryrAE1IoMMzrgLMlAQqPDOuq76tksP5nLcNAnoEJnqrrEusBrdTaOoHWzJjLyowd7VBS8AFci6VSAmogOY6j5KACVgmKYQERKBkhi2VuCqQuw4er8i04a9J5C5Pv1dlyUR2+C3av2kX87yqahr97XDeR7si42ycMdnI/7ZcTDj/ZlH/M/ITvUv1t1X+nLa1SmSFF2qTUIUXapEwhRfWligKL6wlAQkvLC0BDS8sJeESXvCWcA0veEmUhlc9asCF+VEAckTbW6kEGE8JS2Oovq1i6SIzGDri+GTpaj8B7XwkGZe8ZwQAAAAASUVORK5CYII=\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImage } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport errorIcon from './img/error.png';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('ul.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.galery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\niziToast.settings({\n  timeout: 4000,\n  position: 'topRight',\n});\n\nconst createGalary = e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n  const searchText = e.target.elements.search.value.trim();\n\n  if (searchText === '') {\n    iziToast.error({\n      iconUrl: errorIcon,\n      iconColor: '#fff',\n      imageWidth: 24,\n      messageColor: '#fff',\n      message: 'Please write a query for search',\n    });\n    gallery.innerHTML = '';\n    loader.style.display = 'none';\n    return;\n  }\n\n  searchImage(searchText).then(({ hits }) => {\n    gallery.innerHTML = '';\n    const images = renderImages(hits);\n    if (images) {\n        loader.style.display = 'none';\n    }\n\n    if (hits.length === 0) {\n      iziToast.error({\n        iconUrl: errorIcon,\n        iconColor: '#fff',\n        imageWidth: 24,\n        messageColor: '#fff',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      loader.style.display = 'none';\n      gallery.innerHTML = '';\n    }\n\n  gallery.innerHTML = images;\n  lightbox.refresh();\n  form.reset();\n  }).catch(error => {\n    console.log(error);\n    gallery.innerHTML = '';\n    iziToast.error({\n    iconUrl: errorIcon,\n    iconColor: '#fff',\n    imageWidth: 24,\n    messageColor: '#fff',\n    message: error,\n    });\n  });\n};\n\nform.addEventListener('submit', createGalary);"],"names":["searchImage","search","url","response","renderImages","images","image","errorIcon","form","gallery","loader","lightbox","SimpleLightbox","iziToast","createGalary","e","searchText","hits","error"],"mappings":"6vBAAO,MAAMA,EAAcC,GAAU,CASnC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAEmD,GAWpD,OAAO,MAAMC,EATG,CACd,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,KAAM,wBACN,OAAQ,yBACT,CACL,CAE2B,EAAE,KAAKC,GAAY,CAC1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EC1BaC,EAAeC,GACnBA,EAAO,IAAIC,GAChB;AAAA,gBACYA,EAAM,aAAa;AAAA,mBAChBA,EAAM,IAAI,QAAQA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKrBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAI9C,EAAE,KAAK,EAAE,ECzBGC,EAAA,yzBCQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,YAAa,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDC,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,UACZ,CAAC,EAED,MAAMC,EAAeC,GAAK,CACxBA,EAAE,eAAc,EAChBN,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvB,MAAMM,EAAaD,EAAE,OAAO,SAAS,OAAO,MAAM,OAElD,GAAIC,IAAe,GAAI,CACrBH,EAAS,MAAM,CACb,QAASN,EACT,UAAW,OACX,WAAY,GACZ,aAAc,OACd,QAAS,iCACf,CAAK,EACDE,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OACvB,MACD,CAEDV,EAAYgB,CAAU,EAAE,KAAK,CAAC,CAAE,KAAAC,CAAI,IAAO,CACzCR,EAAQ,UAAY,GACpB,MAAMJ,EAASD,EAAaa,CAAI,EAC5BZ,IACAK,EAAO,MAAM,QAAU,QAGvBO,EAAK,SAAW,IAClBJ,EAAS,MAAM,CACb,QAASN,EACT,UAAW,OACX,WAAY,GACZ,aAAc,OACd,QAAS,0EACjB,CAAO,EACDG,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAY,IAGxBA,EAAQ,UAAYJ,EACpBM,EAAS,QAAO,EAChBH,EAAK,MAAK,CACZ,CAAG,EAAE,MAAMU,GAAS,CAChB,QAAQ,IAAIA,CAAK,EACjBT,EAAQ,UAAY,GACpBI,EAAS,MAAM,CACf,QAASN,EACT,UAAW,OACX,WAAY,GACZ,aAAc,OACd,QAASW,CACb,CAAK,CACL,CAAG,CACH,EAEAV,EAAK,iBAAiB,SAAUM,CAAY"}